$(document).ready(function(){var i=window.location.href,n=function(){$(".ig__add--item").on("click",function(){var i=$(this).parent(".ig__item").attr("data-ig-id");t($(this).parent(".ig__item"),"add="+i)}),$(".ig__remove--item").on("click",function(){var i=$(this).parent(".ig__item").attr("data-ig-id");t($(this).parent(".ig__item"),"remove="+i)})},e=function(i){$.ajax({url:"/return.php?"+i,cache:!1,beforeSend:function(){window.history.pushState("","","?"+i),$("#js-main-content").prepend('<div class="pre-loader"><div>Loading...</div></div>')},success:function(i){$("#js-main-content").html(i),n()}})},a=function(i){$.ajax({url:"/return.php?"+i,cache:!1,beforeSend:function(){$("#js-main-content").prepend('<div class="pre-loader"><div>Reloading...</div></div>')},success:function(i){$("#js-main-content .pre-loader").remove(),$("#js-sidebar-admin li").each(function(){$(this).removeClass("in-progress")}),e("all_posts")}})},t=function(i,n){var e=i,a,t;-1!=n.indexOf("add")?a="add":-1!=n.indexOf("remove")&&(a="remove"),t=0!=e.find(".ig__null--item").length?"":"/return.php?"+n,$.ajax({url:t,cache:!1,beforeSend:function(){},success:function(i){if("add"===a){if(e.addClass("in-confirmed"),e.find(".ig__add--item").html("added to confirmed").addClass("ig__null--item").removeClass("ig__add--item"),""!=t){var n=parseInt($('li[data-nav="confirmed"] span').text());$('li[data-nav="confirmed"] span').text(n+1)}}else if("remove"===a){e.remove();var n=parseInt($('li[data-nav="confirmed"] span').text());$('li[data-nav="confirmed"] span').text(n-1)}}})};e(-1!=i.indexOf("confirmed")?"confirmed":-1!=i.indexOf("all_posts")?"all_posts":"all_posts"),$("#js-sidebar-nav li").on("click",function(){var i=$(this).attr("data-nav");e(i)}),$("#js-sidebar-admin li").on("click",function(){var i=$(this).attr("data-nav");$(this).hasClass("in-progress")||a(i),$("#js-sidebar-admin li").each(function(){$(this).addClass("in-progress")})})});